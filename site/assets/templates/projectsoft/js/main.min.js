!function(e){!function(){let e,t,o=document.referrer,n=new URL(o);if(n.origin==document.location.origin){let o=document.querySelector(".article-autor");if(o){if((t=document.createElement("a")).innerHTML="\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f",t.classList.add("btn"),t.classList.add("btn-any"),n.searchParams.has("page")){let t=parseInt(n.searchParams.get("page"));e=n.origin+n.pathname+"?page="+t}else e=n.origin+n.pathname;t.setAttribute("href",e);document.createElement("p");o.prepend(t),o.classList.add("article-autor-history")}}}(),e.fancybox.defaults.parentEl=".fancybox__wrapper",e.fancybox.defaults.transitionEffect="circular",e.fancybox.defaults.transitionDuration=500,e.fancybox.defaults.lang="ru",e.fancybox.defaults.i18n.ru={CLOSE:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",NEXT:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439",PREV:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439",ERROR:"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d.<br/>\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435.",PLAY_START:"\u041d\u0430\u0447\u0430\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443",PLAY_STOP:"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434\u0448\u043e\u0443",FULL_SCREEN:"\u041f\u043e\u043b\u043d\u044b\u0439 \u044d\u043a\u0440\u0430\u043d",THUMBS:"\u041c\u0438\u043d\u0438\u0430\u0442\u044e\u0440\u044b",DOWNLOAD:"\u0421\u043a\u0430\u0447\u0430\u0442\u044c",SHARE:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",ZOOM:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c"};t=!1,Array.from(window.navigator.plugins||{}).map(function(e){var o=Array.from(e);return"pdf"!=o[0].suffixes||t||(t=!0),o});var t;e(document).on("click",".footer a[down-link]",function(t){t.preventDefault();var o=e(this).attr("down-link"),n=window.location.href,a=e("h1").text()||e("title").text(),i=e("meta[name=description]").attr("content"),r=encodeURIComponent(e("meta[itemprop=image]").attr("content")),s=null,c=null;switch(o){case"photo":c=a;break;case"facebook":s="http://www.facebook.com/sharer.php?s=100",s+="&[url]="+encodeURIComponent(n),s+="&p[images][0]="+r,s+="&p[title]="+encodeURIComponent(a),s+="&p[summary]="+encodeURIComponent(i);break;case"ok":s="https://connect.ok.ru/dk?st.cmd=WidgetSharePreview",s+="&st.shareUrl="+encodeURIComponent(n);break;case"vk":s="https://vk.com/share.php?",s+="url="+encodeURIComponent(n),s+="&title="+encodeURIComponent(a),s+="&image="+r,s+="&description="+encodeURIComponent(i);break;case"twitter":i=i.slice(0,255),s="https://twitter.com/intent/tweet?",s+="url="+encodeURIComponent(n),s+="&text="+encodeURIComponent(i)}if(s)window.open(s);else if(c){e("body").addClass("screen");e.ajax({url:window.location.origin+"/screenshot/",type:"POST",data:"shot="+n+"&title="+c,responseType:"blob",processData:!1,xhr:function(){var e=new XMLHttpRequest;return e.responseType="blob",e}}).done(function(t,o,n){var a=JSON.parse(n.getResponseHeader("content-disposition").split("filename=")[1]),i=e("<a>click</a>");i[0].href=URL.createObjectURL(t),i[0].download=a.fname,e("body").append(i),i[0].click(),e("body").removeClass("screen"),setTimeout(function(){i.remove()},500)}).fail(function(){e("body").removeClass("screen"),setTimeout(function(){alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e")},500)}).always(function(t){e("body").removeClass("screen")});return!1}}).on("click","a[href$='.pdf'], a[href$='.docx'], a[href$='.xlsx']",function(t){var o=window.location.origin+"/",n=new RegExp("^"+o),a=this.href,i=this.href,r=!1,s=a.split(".").at(-1).toLowerCase(),c={};if(n.test(a))switch(e(this).data("google",r),e(this).data("options",c),s){case"pdf":return a=a.replace(o,""),c={src:r=window.location.origin+"/viewer/pdf_viewer/?file="+a,opts:{afterShow:function(t,o){e(".fancybox-content").css({height:"100% !important",overflow:"hidden"}).addClass("pdf_viewer")},afterLoad:function(t,o){e(".fancybox-content").css({height:"100% !important",overflow:"hidden"}).addClass("pdf_viewer")}}},t.preventDefault(),e.fancybox.open(c),!1;case"xlsx":return c={src:r=window.location.origin+"/viewer/xlsx_viewer/?file="+i,type:"iframe",opts:{afterShow:function(t,o){e(".fancybox-content").css({height:"100% !important",overflow:"hidden"}).addClass("xlsx_viewer")},afterLoad:function(t,o){e(".fancybox-content").css({height:"100% !important",overflow:"hidden"}).addClass("xlsx_viewer")}}},t.preventDefault(),e.fancybox.open(c),!1;case"docx":return c={src:r=window.location.origin+"/viewer/docx_viewer/?file="+i,type:"iframe",opts:{afterShow:function(t,o){e(".fancybox-content").css({height:"100% !important",overflow:"hidden"}).addClass("docx_viewer")},afterLoad:function(t,o){e(".fancybox-content").css({height:"100% !important",overflow:"hidden"}).addClass("docx_viewer")}}},t.preventDefault(),e.fancybox.open(c),!1}}).on("click",".notification-button .btn",function(t){t.preventDefault(),e(".notification-form").addClass("hidden");let o=new Date(Date.now()+864e5*COOKIE_DATE);return Cookies.set("notify_policy","true",{expires:o,path:"/"}),!1}).on("click",'*[data-trigger="sendbot"]',function(t){t.preventDefault();let o=e(t.target),n=e("#"+o.data("trigger"));return n.length&&e.fancybox.open(n,{modal:!0,infobar:!1,clickOutside:!1,buttons:["close"]}),!1}).on("submit","form",function(t){t.preventDefault();const o=e(t.target).closest(".modal-form"),n=new FormData(t.target),a=t.target.action,i=t.target.method;return e("body").addClass("formSend"),e.ajax({url:a,type:i,data:n,async:!0,cache:!1,contentType:!1,processData:!1,dataType:"json"}).done(function(t,n,a){if(t.forms&&t.forms.form){let n=e(t.forms.form),a=e(".modal-form",n);o.html(a.html()),e('input[name="phone"]').inputmask({mask:"+7(999)999-99-99"})}}).fail(function(e,t,o,n){console.log("fail"),console.log(arguments)}).always(function(){e("body").removeClass("formSend")}),!1}),e('input[name="phone"]').inputmask({mask:"+7(999)999-99-99"}),e(".home").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,dots:!1,arrows:!1}),e(document).on("click",".navigation-menu-button",function(t){return t.preventDefault(),e(this).toggleClass("open"),!1});const o={bvi_target:".bvi-open",bvi_theme:"white",bvi_font:"arial",bvi_font_size:18,bvi_letter_spacing:"normal",bvi_line_height:"normal",bvi_images:!0,bvi_reload:!1,bvi_fixed:!1,bvi_tts:!1,bvi_flash_iframe:!0,bvi_hide:!1};Cookies.get("bvi-panel-active")?(e(".bvi-open").data("bvi-init",1),e.bvi(o)):e(document).on("click",".bvi-open",function(t){t.preventDefault(),e(this).data("bvi-init")||(e.bvi(o),e(this).data("bvi-init",1),e(this).click())});const n=e("#map"),a=function(){let e=n.data("point").split(",").map(Number),t=n.data("addr"),o=n.data("email"),a=n.data("phone"),i=n.data("name");const r=new ymaps.Placemark(e,{balloonContentHeader:`\u0426\u0435\u043d\u0442\u0440 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0433\u043e \u0438 \u0433\u0443\u043c\u0430\u043d\u0438\u0442\u0430\u0440\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439 ${i}`,balloonContentFooter:'<p class="text-center"><button class="callme-btn btn" type="button" data-trigger="sendbot">\u0417\u0410\u0414\u0410\u0422\u042c \u0412\u041e\u041f\u0420\u041e\u0421</button></p>',balloonContentBody:`<p class="text-left">${t}</p>`+`<p class="text-right">${a}</p>`+`<p class="text-center"><a href="mailto:${o}" target="_blank">${o}</a></p>`},{iconLayout:"default#image",iconImageHref:"/assets/templates/projectsoft/images/tr.png?_=v0.0",iconImageSize:[64,64],iconImageOffset:[-32,-32]}),s=new ymaps.Map("map",{center:e,zoom:17,controls:["typeSelector","zoomControl","fullscreenControl"]});s.behaviors.disable("scrollZoom"),s.geoObjects.add(r),r.balloon.open()};if(n.length){const e=document.createElement("script"),t=n.data("key");e.type="text/javascript",e.src=`https://api-maps.yandex.ru/2.1.79/?apikey=${t}&lang=ru_RU`,e.onload=function(){ymaps.ready(a)},document.body.append(e)}}(jQuery);